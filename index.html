<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>Media Recorder</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css" type="text/css" />
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
</head>

<body class="animated-gradient min-h-screen flex flex-col">
  <header class="bg-white bg-opacity-10 backdrop-blur-md py-4 px-6 w-full">
    <div class="container mx-auto flex justify-between items-center">
      <h1 class="text-3xl font-bold text-purple-600">Recorder</h1>
      <a href="#"
        class="bg-white text-purple-600 font-bold py-2 px-4 rounded-full hover:bg-purple-100 transition duration-300">
        Link
      </a>
    </div>
  </header>

  <main class="flex-grow flex flex-col md:flex-row p-6 gap-6">
    <div class="w-full md:w-2/3 bg-white bg-opacity-50 backdrop-blur-md rounded-lg p-6">
      <div class="flex justify-center mb-6">
        <div class="w-1/2 flex rounded-full overflow-hidden">
          <button id="videoTab"
            class="w-1/2 py-2 px-4 bg-white text-purple-600 text-purple-600 font-bold rounded-l-full focus:outline-none">Video</button>
          <button id="audioTab"
            class="w-1/2 py-2 px-4 bg-transparent text-purple-600 font-bold rounded-r-full focus:outline-none border border-purple-600">Audio</button>
        </div>
      </div>
      <hr />

      <!-- Video box start -->
      <div id="videoContent" class="rounded-lg p-4 max-w-6xl w-full flex flex-col h-screen max-h-[700px]">
        <div class="rounded-lg w-full flex-grow overflow-hidden mb-4">
          <video style="transform: scaleX(-1);" class="video-display w-full h-full object-cover" autoplay playsinline
            muted volume="1"></video>
        </div>

        <p class="upload-status text-center text-white mb-2"></p>

        <div class="progress hidden mb-4">
          <div class="progress-bar bg-purple-600 h-2 rounded-full" role="progressbar" style="width: 0%"
            aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
      </div>
      <!-- Video box end -->

      <!-- Audio box start-->
      <div id="audioContent" class="bg-purple-100 bg-opacity-20 rounded-lg p-4 hidden">
        <canvas id="audio-wave" class="rounded-full"></canvas>
        <!-- <div class="flex justify-center space-x-4 inputs">
          <select class="inputAudioDevice rounded-full py-2 px-4"></select>
          <button id="start-audio-recording"
            class="bg-transparent border border-purple-600 text-purple-600 font-bold py-2 px-4 rounded-full hover:bg-purple-100 transition duration-300 start-recording-btn w-full sm:w-auto">Start</button>
          <button id="stop-audio-recording"
            class="bg-white text-purple-600 font-bold py-2 px-4 rounded-full hover:bg-purple-100 transition duration-300">Stop</button>
        </div> -->
      </div>
      <!-- Audio box end -->

      <!-- Control button box start -->
      <div
        class="flex flex-col sm:flex-row justify-center items-center overflow-auto space-y-4 sm:space-y-0 sm:space-x-4">
        <select class="inputVideoDevice rounded-full py-2 px-4 sm:w-auto w-full"></select>
        <select class="inputAudioDevice rounded-full py-2 px-4 sm:w-auto w-full"></select>
        <button type="button" id="start-recording-btn"
          class="bg-transparent border border-purple-600 text-purple-600 font-bold py-2 px-4 rounded-full hover:bg-purple-100 transition duration-300 w-full sm:w-auto">
          Record
        </button>
        <button type="button" id="stop-recording-btn"
          class="bg-white text-purple-600 font-bold py-2 px-4 rounded-full hover:bg-purple-100 transition duration-300 w-full sm:w-auto hidden"
          disabled>
          Stop
        </button>
        <button type="button"
          class="bg-white text-purple-600 font-bold py-2 px-4 rounded-full hover:bg-purple-100 transition duration-300 save-recording-btn w-full sm:w-auto hidden"
          disabled>
          Save
        </button>
      </div>
      <!-- Control button box end -->
    </div>
    <div class="w-full md:w-1/3 bg-white bg-opacity-50 backdrop-blur-md rounded-lg p-6">
      <h3 class="text-2xl font-bold text-purple-600 mb-4">Recordings</h3>
      <hr />
      <div class="h-screen max-h-[500px] overflow-auto" id="main-container">
        <div class="col-12">
        </div>
      </div>
    </div>
  </main>

  <!-- Clip Name Modal -->
  <div id="modalOverlay" class="fixed inset-0 bg-black bg-opacity-50 hidden">
    <div id="modal"
      class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg shadow-xl p-6 max-w-md w-full hidden">
      <div class="mt-2">
        <input type="text" id="clipName" name="clipName" placeholder="Enter clip name"
          class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500">
      </div>
      <div class="mt-5 sm:mt-6">
        <button id="closeModalBtn"
          class="inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm">
          OK
        </button>
      </div>
    </div>
  </div>
  <!-- Clip Name Modal End -->

  <script src="https://www.webrtc-experiment.com/RecordRTC.js"></script>
  <script src="https://www.webrtc-experiment.com/gif-recorder.js"></script>
  <script src="https://www.webrtc-experiment.com/getScreenId.js"></script>
  <script src="https://www.webrtc-experiment.com/DetectRTC.js"> </script>
  <script type="module" src="./app.js"></script>
  <!-- <script type="module" src="./video-recording.js"></script> -->
</body>

</html>